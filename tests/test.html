<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test App</title>
    <script src="../model.js"></script>
    <script src="../data.js"></script>
    <script src="../vue.js"></script>
</head>
<body>
<div id="test-app">
    <div v-for="msg in msgs">{{msg}}</div>
</div>
<script>
    function init(data) {
        new Vue({
            el: '#test-app',
            data: {
                msgs: []
            },
            mounted() {
                try {
                    const {periods, linear} = Pywb.makeData(data);
                } catch(e) {
                    this.addMsg(e.message);
                }
                this.addMsg('test app is loaded');
            },
            methods: {
                addMsg(msg) {
                    this.msgs.push(msg);
                }
            }
        });
    }
    fetch('/sample-data/bbc-com.json').then(r => r.json()).then(data => init(data));
</script>
</body>
</html>